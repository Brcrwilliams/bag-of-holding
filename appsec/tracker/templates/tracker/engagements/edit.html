{% extends "base.html" %}

{% load staticfiles %}

{% block title %}Edit Engagement{% endblock %}

{% block css %}
<link href="{% static 'css/vendor/datepicker3-1.3.1.css' %}" rel="stylesheet" media="screen">
{% endblock css %}

{% block content %}
<div class="row">
  <div class="col-md-6 col-md-offset-3">
    <form method="post" action="{% url 'tracker:engagement.edit' engagement.id %}">
      {% csrf_token %}
      <div class="panel panel-default">
        <div class="panel-heading">
          <h3 class="panel-title">Edit Engagement</h3>
        </div>
        <div class="panel-body">
          {% include "forms/form_snippet.html" with control=form.status %}
          <div class="input-daterange">
            {% include "forms/form_snippet.html" with control=form.start_date %}
            {% include "forms/form_snippet.html" with control=form.end_date %}
          </div>
        </div>
        <div class="panel-footer">
          <div class="pull-right">
            <button class="btn btn-primary" type="submit">Update Engagement</button>
            <a href="{% url 'tracker:engagement.detail' engagement.id %}" class="btn btn-default" role="button">Cancel</a>
          </div>
          <div class="clearfix"></div>
        </div>
      </div>
    </form>
  </div>
</div>

<div class="row">
  <div class="col-md-6 col-md-offset-3">
    <form method="post" action="{% url 'tracker:engagement.delete' engagement.id %}">
      {% csrf_token %}
      <button class="btn btn-danger pull-right" type="submit" onclick="return confirm('Are you sure want to delete this engagement?');">Delete Engagement</button>
    </form>
  </div>
</div>
{% endblock %}

{% block js %}
<script src="{% static 'js/vendor/bootstrap-datepicker-1.3.1.js' %}"></script>
<script>
$('.input-daterange').datepicker({
  format: "yyyy-mm-dd",
  todayBtn: "linked",
  todayHighlight: true
});
</script>
{% endblock js %}
